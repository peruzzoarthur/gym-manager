//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table User {
  id String [pk]
  firstName String
  lastName String
  email String [unique, not null]
  password String [not null]
  dob DateTime
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  role Role [not null, default: 'USER']
  hashedRt String
  profileImage String
  trainings Training [not null]
  activeTraining Training
  activeTrainingId String
}

Table Training {
  id String [pk]
  trainingGroups TrainingGroup [not null]
  user User [not null]
  activatedAtUser User [not null]
  tempo Tempo [not null]
  daysInWeek Int [not null]
  done Boolean [not null, default: false]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  rounds Int [not null]
  reps Int [not null]
  sets Int [not null]
}

Table TrainingGroup {
  id String [pk]
  key String [not null]
  exercices Exercise [not null]
  done Boolean [not null, default: false]
  groups Group[] [not null]
  training Training [not null]
  trainingId String [not null]

  indexes {
    (key, trainingId) [unique]
  }
}

Table Exercise {
  id String [pk]
  name ExerciseReference [not null]
  nameId String [not null]
  load Float
  reps Int
  sets Int
  TrainingGroup TrainingGroup [not null]
}

Table ExerciseReference {
  id String [pk]
  name String [unique, not null]
  exercices Exercise [not null]
  groups Group[] [not null]
}

Table TrainingToUser {
  trainingsId String [ref: > Training.id]
  userId String [ref: > User.id]
}

Table ExerciseToTrainingGroup {
  exercicesId String [ref: > Exercise.id]
  traininggroupId String [ref: > TrainingGroup.id]
}

Enum Role {
  USER
  ADMIN
}

Enum Tempo {
  ONE2ONE
  ONE2TWO
  ONE2THREE
  ONE2FOUR
}

Enum Group {
  CHEST
  BACK
  TRICEPS
  BICEPS
  LEGS
  CALVES
  COMPLEX
  SHOULDERS
}

Ref: User.activeTrainingId > Training.id

Ref: TrainingGroup.trainingId > Training.id

Ref: Exercise.nameId > ExerciseReference.id